<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            .btn.clicked {
                background-color: red;
                color: white;
            }
            .btn:disabled {
                background-color: dimgrey;
            }
            .button-blue {
                background-color: blue;
            }
            .button-yellow {
                background-color: yellow;
            }
            .button-green {
                background-color: green;
            }
        </style>
    </head>
    <body>
        <div class="calc-box">
            <h3>掛け算シミュレーター</h3>
            <input type="number" id="numA" value="3" oninput="update()" /> ×
            <input type="number" id="numB" value="8" oninput="update()" /> =
            <span id="mcd" class="result">24</span>
        </div>
        <p>
        <div id="mDetail">ここよく見てからクリックしてね</div>
        <button class="btn" id="mBtn1">ここ押せ！</button>
        <button class="btn" id="mBtn2">クリックしてね！</button>
        <button class="btn" id="mBtn3">ここを押そうね</button>
        </p>
        <div class="color">色違いになるよ
        <button class="button button-blue" id="mBtn4">青山</button>
        <button class="button button-yellow" id="mBtn5">黃子</button>
        <button class="button button-green" id="mBtn6">みどり</button>
        </div>
        <div class="list-box">
            <h2>クリックされた色一覧</h2>
            <ul id="list-color"></ul>
        </div>
        </p>
        <script>
            // const buttonColor =document.querySelectorAll(".color .button");
            // const listColor = document.getElementById("list-color");
            // const buttonColorClick = function () {
            //     let element = document.createElement("li");
            //     console.log(this.innerHTML);
            //     element.innerHTML =this.innerHTML;
            //     listColor.appendChild(element);
            // }
            // for (let index = 0; index < buttonColor.length; index++) {
            //     buttonColor[index].addEventListener('click',buttonColorClick)
                
            // }
            // 青山、黃子、みどりのbuttonタグ３つ全てを取得する
            const elemsBtn = document.querySelectorAll(".color .button");
            // リストを格納するuｌのタグ要素を丸ごと取得する
            const elemUl = document. getElementById("list-color");
            // 後にイベントリスナーに収納する関数を先に作る
            const creLiFunc = function (e) {
                let element = document.createElement("li");
                element.innerHTML= e.currentTarget.innerHTML;
                console.log("どふよ？", element);
                elemUl.appendChild(element);
            }
            
            for (let index = 0; index < elemsBtn.length; index++) {
                elemsBtn[index].addEventListener("click", creLiFunc);
                
            }
            
            
            //     ここでのポイント
            // oninput="update()": HTMLの input タグにこれを書くことで、
            // ユーザーがキーボードで数字を打つたび、あるいは矢印で数値を上下させるたびに、
            // 即座にJavaScriptの update 関数が実行されます。
            // const update = () => { ... }: 表示を更新する処理そのものもアロー関数で書いています。
            // 現在のWeb開発では、このように「何かの動作に反応して動く関数（イベントハンドラー）」を
            // アロー関数で書くのが一般的です。
            // Number(): input.value で取得した値は「文字列（"5"）」として扱われるため、
            // 計算前に Number() で「数値（5）」に変換しています。
            // 1. 計算ロジックをアロー関数で定義
            const multi2 = (c, d) => c * d;

            // 2. 入力値を取得して表示を更新するアロー関数
            const update = () => {
                // 入力欄の値を数値(Number)として取得
                //         使い分けの覚え方：
                // **「入力」**してもらう場所から取るなら .value
                // **「表示」**している場所を書き換える（または取る）なら .textContent
                // と覚えておけば間違いありません！
                const a = Number(document.getElementById('numA').value);
                const b = Number(document.getElementById('numB').value);

                // multi2を使って計算し、結果を表示
                document.getElementById('mcd').textContent = multi2(a, b);
            };

            // const man={
            //     sex: 'male',
            //     name: "きよひこ",
            //     niceMessage: () =>{
            //         console.log("いいぞがんばれ");

            //     },
            //     badMessage: ()=>{
            //         console.log("ばかたれ！");

            //     }
            // }

            // const button = document.getElementById("mBtn");
            // const detail = document.getElementById("mDetail");
            //  console.log(button);
            //  console.table(man);

            // const hi = ()=>{
            //     detail.textContent= `性別は${man.sex}で名前は${man.name}です`;
            // };
            // button.addEventListener("click", hi);
            // document.getElementById("mBtn");
            // document.getElementsByClassName("btn");
            const btn01 = document.getElementById('mBtn1');
            // console.log(btn01);
            btn01.addEventListener(
                'click',
                () =>
                    (document.getElementById('mDetail').textContent =
                        '変更したぞ！'),
            );
            const btn02 = document.getElementById('mBtn2');
            btn02.addEventListener('click', function () {
                this.innerHTML = '押してくれてありがとう';
            });
            const btn03 = document.getElementById('mBtn3');
            btn03.addEventListener(`click`, function () {
                this.innerHTML = 'Thanks for clicking!!';
                this.setAttribute('disabled', true);
            });
            // const btn02 = document.getElementsByClassName("btn");
            // console.table(btn02);
            // また迷ったらこれを見ろ　https://www.youtube.com/watch?v=6L7RmLIlkjs
            const btnArray = document.getElementsByClassName('btn');

            for (let index = 0; index < btnArray.length; index++) {
                // 普通の関数で行くなら
                // btnArray[index].addEventListener('click', function () {
                // アロー関数で行くなら
                btnArray[index].addEventListener('click', () => {
                    // ↓普通の関数なら（アロー関数を使わないなら）
                    // this.classList.toggle('clicked');
                    // アロー関数を使うならthisはwindowそのものを意味してしまうから使えない
                    btnArray[index].classList.toggle('clicked');
                });
            }

            // コールバック関数1
            const func = function (cb) {
                document.body.appendChild(
                    document.createElement('p'),
                ).innerText = '手順１コールバック！';
                cb();
            };
            func(() => {
                document.body.appendChild(
                    document.createElement('p'),
                ).innerText = '手順２コールバック！';
            });

            // コールバック関数2
            const funC = function (callback) {
                console.log('いちばん');
                document.body.appendChild(
                    document.createElement('p'),
                ).innerText = '１番';
                callback();
            };
            funC(() => {
                console.log('にばん');
                document.body.appendChild(
                    document.createElement('p'),
                ).innerText = '２番';
            });
        </script>
    </body>
</html>
