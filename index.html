<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¢ãƒ€ãƒ³è¨ˆç®—ãƒ•ã‚©ãƒ¼ãƒ </title>
    <style>
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            font-family: 'Helvetica Neue', Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            background-color: #ffffff;
            width: 100%;
            max-width: 350px;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        h3 { margin-top: 0; color: #333; text-align: center; margin-bottom: 25px; }
        label { display: block; margin-top: 15px; font-size: 0.85rem; font-weight: bold; color: #555; margin-bottom: 5px; }
        input {
            width: 100%; padding: 12px; margin-bottom: 5px; box-sizing: border-box;
            border: 2px solid #eee; border-radius: 8px; font-size: 1rem; outline: none;
        }
        input:focus { border-color: #007bff; box-shadow: 0 0 8px rgba(0, 123, 255, 0.2); }
        .hint { font-size: 0.75rem; color: #aaa; margin-bottom: 15px; }
        .result-area { margin-top: 30px; padding: 20px; background-color: #f8f9fa; border-radius: 12px; text-align: center; }
        .result-label { display: block; font-size: 0.9rem; color: #666; margin-bottom: 5px; }
        .result { font-weight: 900; color: #007bff; font-size: 1.8rem; }
    </style>
</head>
<body>

    <div class="container">
        <h3>ğŸ’° åˆè¨ˆé‡‘é¡è¨ˆç®—æ©Ÿ</h3>
        
        <label>å˜ä¾¡ (å…¥åŠ›å¾Œã€å¤–ã‚’ã‚¯ãƒªãƒƒã‚¯ã§1000å€)</label>
        <input type="text" id="price" placeholder="ä¾‹: 3" onchange="processPrice()">
        <p class="hint">â€»3ã¨æ‰“ã¦ã°3,000ã«ãªã‚Šã¾ã™</p>
        
        <label>å€‹æ•°</label>
        <input type="number" id="quantity" value="1" oninput="calculate()">
        
        <div class="result-area">
            <span class="result-label">ãŠæ”¯æ‰•ã„åˆè¨ˆ</span>
            <span id="total" class="result">0</span><span style="margin-left:5px">å††</span>
        </div>
    </div>

    <script>
        // 1. å˜ä¾¡ãŒå…¥åŠ›ã•ã‚Œã€ç¢ºå®šã—ãŸæ™‚ã®å‡¦ç†
        function processPrice() {
            const priceInput = document.getElementById('price');
            // æ•°å­—ä»¥å¤–ï¼ˆã‚«ãƒ³ãƒãªã©ï¼‰ã‚’ä¸€æ—¦æ¶ˆã™
            let val = priceInput.value.replace(/[^0-9]/g, '');

            if (val !== "") {
                // 1000å€ã—ã¦ã€ã‚«ãƒ³ãƒä»˜ãã®æ–‡å­—ã«ã—ã¦æˆ»ã™
                const multipliedPrice = Number(val) * 1000;
                priceInput.value = multipliedPrice.toLocaleString();
            }
            // åˆè¨ˆè¨ˆç®—ã‚’å‘¼ã³å‡ºã™
            calculate();
        }

        // 2. åˆè¨ˆã‚’è¨ˆç®—ã—ã¦è¡¨ç¤ºã™ã‚‹å‡¦ç†
        function calculate() {
            const priceInput = document.getElementById('price');
            const quantityInput = document.getElementById('quantity');
            const totalElement = document.getElementById('total');

            // ã‚«ãƒ³ãƒã‚’é™¤å»ã—ã¦æ•°å€¤ã«å¤‰æ›
            const priceNum = Number(priceInput.value.replace(/,/g, ''));
            const quantityNum = Number(quantityInput.value);

            // è¨ˆç®—
            const total = priceNum * quantityNum;

            // ç”»é¢ã«è¡¨ç¤º
            totalElement.innerText = total.toLocaleString();

            // è‰²ã®åˆ‡ã‚Šæ›¿ãˆ
            if (total >= 10000) {
                totalElement.style.color = "#e74c3c"; // èµ¤
            } else {
                totalElement.style.color = "#007bff"; // é’
            }
        }
    </script>

</body>
</html>
